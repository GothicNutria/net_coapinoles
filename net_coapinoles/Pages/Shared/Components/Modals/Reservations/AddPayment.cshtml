@page
@using net_coapinoles.Models.DTO
@model net_coapinoles.Pages.Shared.Components.Modals.AddPayment
@{
    Layout = null;
}
<div class="modal-dialog modal-lg modal-dialog-centered">
    <form method="post" class="needs-validation modal-content" novalidate>
        <div class="modal-header">
            <h5 class="modal-title" id="staticBackdropLabel">
                Añadir pago
            </h5>
            <button type="button" class="btn-close" data-coreui-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <div class="row g-3">
                <div class="col-12 col-md-6">
                    <div class="card shadow-sm border-0 bg-success bg-opacity-75 text-white h-100">
                        <div class="card-body d-flex align-items-center justify-content-between">
                            <div>
                                <div class="text-uppercase small opacity-75">
                                    Total
                                </div>
                                <div class="fs-4 fw-bold">
                                    @(Model.reserve?.total ?? 0) <span class="fs-6">MXN</span>
                                </div>
                            </div>
                            <i class="bi bi-cash-stack fs-1 opacity-75"></i>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-6">
                    <div class="card shadow-sm border-0 bg-danger bg-opacity-75 text-white h-100">
                        <div class="card-body d-flex align-items-center justify-content-between">
                            <div>
                                <div class="text-uppercase small opacity-75">
                                    Saldo pendiente
                                </div>
                                <div class="fs-4 fw-bold">
                                    @(Model.saldo) <span class="fs-6">MXN</span>
                                </div>
                                <div class="small opacity-75">
                                    @(Model.exchange) USD
                                </div>
                            </div>
                            <i class="bi bi-credit-card fs-1 opacity-75"></i>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-6">
                    <div class="form-floating dropdown">
                        <button class="form-control btn border w-100 d-flex" type="button" data-coreui-toggle="dropdown" aria-expanded="false">
                            <span class="dropdown-text">Seleccione...</span> <i class="bi bi-caret-down-fill ms-auto text-muted"></i>
                        </button>
                        <ul class="dropdown-menu w-100" data-target="#method_paymentIn">
                            @foreach (FormaPago item in Model.methodOfPay ?? []) {
                                <li><button class="dropdown-item" type="button" data="@(item.Id)">@(item.Descripcion)</button></li>
                            }

                        </ul>
                        <input type="text" id="method_paymentIn" value="" class="d-none" required>
                        <label for="method_paymentIn">
                            <i class="bi bi-credit-card-2-back-fill me-1 text-muted"></i>
                            Forma de pago
                        </label>
                        <div class="invalid-feedback">
                            Ingrese la forma de pago
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-6">
                    <div class="form-floating">
                        <input type="number" class="form-control" id="totalIn" value="" placeholder=" " required />
                        <label for="totalIn">
                            <i class="bi bi-cash-stack me-1 text-muted"></i>
                            Monto total
                        </label>
                        <div class="invalid-feedback">
                            Ingrese el monto total
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-6">
                    <div class="form-floating">
                        <input id="datepaymentPicker" value="" type="text" class="form-control" placeholder=" " autocomplete="off" required>
                        <label for="datepaymentPicker">
                            <i class="bi bi-calendar2-range-fill me-1 text-muted"></i>
                            Fecha de pago
                        </label>
                        <div class="invalid-feedback">
                            Seleccione la fecha de pago
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-6">
                    <div class="form-floating">
                        <input id="referIn" value="" type="text" class="form-control" placeholder=" " autocomplete="off">
                        <label for="referIn">
                            <i class="bi bi-card-checklist me-1 text-muted"></i>
                            Referencia                            
                        </label>
                    </div>
                </div>
                <div class="col-12">
                    <div class="form-floating">
                        <textarea class="form-control" id="notesIn" style="min-height: 100px" placeholder=" "></textarea>
                        <label for="notesIn">
                            <i class="bi bi-pencil-fill me-1 text-muted"></i>
                            Notas
                        </label>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <input type="button" class="btn btn-secondary" data-coreui-dismiss="modal" value="Cancelar" />
            <button type="submit" class="btn btn-primary btn-submit-add-pay">
                <i class="bi bi-plus-circle me-1"></i>
                Añadir
            </button>
        </div>
    </form>
</div>